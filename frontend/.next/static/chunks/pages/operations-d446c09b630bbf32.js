(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[394],{9567:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/operations",function(){return t(6097)}])},3340:function(e,n,t){"use strict";var r=t(4051),a=t.n(r),i=t(5893),o=t(7294),s=t(9669),c=t.n(s);function u(e,n,t,r,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void t(u)}s.done?n(c):Promise.resolve(c).then(r,a)}n.Z=function(){var e=(0,o.useState)(0),n=e[0],t=e[1],r=function(){var e,n=(e=a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c().get("/api/current-balance");case 3:n=e.sent.data,t(0|n.balance),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){u(i,r,a,o,s,"next",e)}function s(e){u(i,r,a,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,o.useEffect)((function(){r()}),[]),(0,i.jsx)("article",{className:"py-2 px-2 rounded-lg border border-gray-100 bg-white ",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm text-gray-500",children:"Balance"}),(0,i.jsxs)("p",{className:"text-2xl font-medium text-gray-900",children:["$ ",n]})]}),(0,i.jsx)("span",{className:"rounded-full bg-blue-100 p-3 text-blue-600",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})})]})})}},7236:function(e,n,t){"use strict";var r=t(4051),a=t.n(r),i=t(5893),o=t(9669),s=t.n(o),c=t(7294);function u(e,n,t,r,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void t(u)}s.done?n(c):Promise.resolve(c).then(r,a)}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}n.Z=function(e){var n=(0,c.useState)(),t=n[0],r=n[1],o=(0,c.useState)(!1),l=o[0],f=o[1],p=function(){var n,t=(n=a().mark((function n(){var t,o,c,u,l,p=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},n.prev=1,r(null),f(!0),n.next=6,s()[e.method](e.url,d({},e.body,t));case 6:o=n.sent,e.onSuccess&&(f(!1),e.onSuccess(o.data)),n.next=16;break;case 10:n.prev=10,n.t0=n.catch(1),f(!1),l=null===(c=n.t0.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.errors,r(l&&l.map((function(e,n){return(0,i.jsx)("div",{children:e.message},n)})));case 16:case"end":return n.stop()}}),n,null,[[1,10]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(e){u(i,r,a,o,s,"next",e)}function s(e){u(i,r,a,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return[p,t,l]}},6097:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var r=t(4051),a=t.n(r),i=t(5893),o=t(9008),s=t(3340),c=t(7294),u=t(9669),l=t.n(u);function d(e,n,t,r,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void t(u)}s.done?n(c):Promise.resolve(c).then(r,a)}var f=function(e){var n=e.onChange,t=(0,c.useState)([]),r=t[0],o=t[1],s=function(){var e,n=(e=a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().get("/api/operations/types");case 3:n=e.sent.data,o(n||[]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error loading data",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){d(i,r,a,o,s,"next",e)}function s(e){d(i,r,a,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,c.useEffect)((function(){s()}),[]),(0,i.jsxs)("div",{className:"flex-col py-20 ",children:[(0,i.jsx)("label",{children:"Operation Type:"}),(0,i.jsx)("br",{}),(0,i.jsxs)("select",{name:"cars",id:"cars",onChange:function(e){var t=e.target.value;n(t)},children:[(0,i.jsx)("option",{children:" Select Operation Type "}),r.length&&r.map((function(e){return(0,i.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:"".concat(null===e||void 0===e?void 0:e.description," -- Cost: ").concat(e.cost)},e.id)}))]})]})},p=function(e){var n=e.onChange,t=(e.errors,e.loading,(0,c.useState)(0)),r=t[0],a=t[1],o=(0,c.useState)(0),s=o[0],u=o[1],l=(0,c.useState)(""),d=l[0],p=l[1],v=function(){return!!d&&!!r&&!!s};return(0,i.jsxs)("div",{className:"flex-col py-20 ",children:[(0,i.jsxs)("div",{className:"mt-10",children:[(0,i.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 ",children:"First Value"}),(0,i.jsx)("div",{className:"relative mt-15 rounded-md shadow-sm",children:(0,i.jsx)("input",{value:r,onChange:function(e){var n=e.target.value;return a(n?parseInt(n):0)},type:"text",name:"price",id:"price",className:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"0"})})]}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{className:"mt-10",children:[(0,i.jsx)("label",{className:"block text-sm font-medium leading-6 text-gray-900 ",children:"Second Value"}),(0,i.jsx)("div",{className:"relative mt-15 rounded-md shadow-sm",children:(0,i.jsx)("input",{value:s,onChange:function(e){var n=e.target.value;return u(n?parseInt(n):0)},type:"text",name:"price",id:"price",className:"block w-full rounded-md border-0 py-1.5 pl-7 pr-20 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",placeholder:"0"})})]}),(0,i.jsx)("br",{}),(0,i.jsx)(f,{onChange:function(e){p(e)}}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{className:"mt-10 inline-block",children:(0,i.jsx)("button",{onClick:function(){n({firstValue:r,secondValue:s,operationId:d})},disabled:!v(),className:v()?"inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700":"disabled inline-flex items-center justify-center px-5 py-3 bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow",children:"Process Operation"})})]})},v=t(7236),h=t(1163);function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function x(e,n,t,r,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void t(u)}s.done?n(c):Promise.resolve(c).then(r,a)}function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);o=!0);}catch(c){s=!0,a=c}finally{try{o||null==t.return||t.return()}finally{if(s)throw a}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return m(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(){var e=(0,h.useRouter)(),n=g((0,v.Z)({method:"post",url:"/api/operations",onSuccess:function(){return e.push("/")}}),3),t=n[0],r=n[1],c=n[2],u=function(){var e,n=(e=a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){x(i,r,a,o,s,"next",e)}function s(e){x(i,r,a,o,s,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsxs)(o.default,{children:[(0,i.jsx)("title",{children:"Arithmetic Operation App - Operation"}),(0,i.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,i.jsxs)("div",{className:"py-5 max-w-md",children:[(0,i.jsx)("div",{className:"py-5 ",children:(0,i.jsx)(s.Z,{})}),(0,i.jsx)(p,{onChange:u,loading:c,errors:r})]})]})}},9008:function(e,n,t){e.exports=t(5443)},1163:function(e,n,t){e.exports=t(387)}},function(e){e.O(0,[774,888,179],(function(){return n=9567,e(e.s=n);var n}));var n=e.O();_N_E=n}]);